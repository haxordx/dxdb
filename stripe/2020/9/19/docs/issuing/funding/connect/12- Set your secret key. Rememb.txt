// Set your secret key. Remember to switch to your live secret key in production!
// See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.apiKey = "sk_test_4eC39HqLyjWDarjtT1zdp7dc";

Account account = Account.retrieve("{{CONNECTED_STRIPE_ACCOUNT_ID}}");
AccountUpdateParams params =
  AccountUpdateParams.builder()
    .setBusinessType(AccountUpdateParams.BusinessType.COMPANY)
    .setBusinessProfile(
      AccountUpdateParams.BusinessProfile.builder()
        .setMcc("5999")
        .setUrl("https://www.wesellsocks.com")
        .build()
    )
    .setCompany(
      AccountUpdateParams.Company.builder()
        .setName("We Sell Socks, Inc.")
        .setTaxId("11-3456789")
        .setAddress(
          AccountUpdateParams.Company.Address.builder()
            .setLine1("185 Berry Street")
            .setCity("San Francisco")
            .setState("CA")
            .setPostalCode("94110")
            .setCountry("US")
            .build()
         ).build()
    ).build();
account.update(params);

Person person = account.persons().retrieve("{{PERSON_ID}}");
PersonUpdateParams personParams =
  PersonUpdateParams.builder()
    .setFirstName("Joe")
    .setLastName("Smith")
    .setDob(
      PersonUpdateParams.Dob.builder()
        .setDay(12L)
        .setMonth(11L)
        .setYear(1978L)
        .build()
    )
    .setAddress(
      PersonUpdateParams.Address.builder()
        .setLine1("185 Berry Street")
        .setCity("San Francisco")
        .setState("CA")
        .setPostalCode("94110")
        .setCountry("US")
        .build()
    )
    .setSsnLast4("9999")
    .setEmail("joe@wesellsocks.com")
    .setRelationship(
      PersonUpdateParams.Relationship.builder()
        .setRepresentative(true)
        .setOwner(true)
        .setPercentOwnership(new BigDecimal("25.0"))
        .build())
    .build();
person.update(personParams);

AccountUpdateParams accountParams =
  AccountUpdateParams.builder()
    .setCompany(
      AccountUpdateParams.Company.builder()
        .setOwnersProvided(true)
        .build())
    .build();
account.update(accountParams);
// Set your secret key. Remember to switch to your live secret key in production!
// See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.apiKey = "sk_test_4eC39HqLyjWDarjtT1zdp7dc";

Account account = Account.retrieve("{{CONNECTED_STRIPE_ACCOUNT_ID}}");
AccountUpdateParams params =
  AccountUpdateParams.builder()
    .setBusinessType(AccountUpdateParams.BusinessType.COMPANY)
    .setBusinessProfile(
      AccountUpdateParams.BusinessProfile.builder()
        .setMcc("5999")
        .setUrl("https://www.wesellsocks.com")
        .build()
    )
    .setCompany(
      AccountUpdateParams.Company.builder()
        .setName("We Sell Socks, Inc.")
        .setTaxId("11-3456789")
        .setAddress(
          AccountUpdateParams.Company.Address.builder()
            .setLine1("185 Berry Street")
            .setCity("San Francisco")
            .setState("CA")
            .setPostalCode("94110")
            .setCountry("US")
            .build()
         ).build()
    ).build();
account.update(params);

Person person = account.persons().retrieve("{{PERSON_ID}}");
PersonUpdateParams personParams =
  PersonUpdateParams.builder()
    .setFirstName("Joe")
    .setLastName("Smith")
    .setDob(
      PersonUpdateParams.Dob.builder()
        .setDay(12L)
        .setMonth(11L)
        .setYear(1978L)
        .build()
    )
    .setAddress(
      PersonUpdateParams.Address.builder()
        .setLine1("185 Berry Street")
        .setCity("San Francisco")
        .setState("CA")
        .setPostalCode("94110")
        .setCountry("US")
        .build()
    )
    .setSsnLast4("9999")
    .setEmail("joe@wesellsocks.com")
    .setRelationship(
      PersonUpdateParams.Relationship.builder()
        .setRepresentative(true)
        .setOwner(true)
        .setPercentOwnership(new BigDecimal("25.0"))
        .build())
    .build();
person.update(personParams);

AccountUpdateParams accountParams =
  AccountUpdateParams.builder()
    .setCompany(
      AccountUpdateParams.Company.builder()
        .setOwnersProvided(true)
        .build())
    .build();
account.update(accountParams);
