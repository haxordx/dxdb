#import "APPReaderDiscoveryViewController.h"
#import <StripeTerminal/StripeTerminal.h>

@interface APPReaderDiscoveryViewController () <SCPDiscoveryDelegate>

@property (nonatomic, nullable, strong) SCPCancelable *discoverCancelable;

// ...

@end

@implementation APPReaderDiscoveryViewController

// Action for a "Discover Readers" button
- (void)discoverReadersAction {
    SCPDiscoveryConfiguration *config = [[SCPDiscoveryConfiguration alloc] initWithDiscoveryMethod:SCPDiscoveryMethodInternet
                                                                                         simulated:NO];

    self.discoverCancelable = [[SCPTerminal shared] discoverReaders:config
                                                           delegate:self
                                                         completion:^(NSError *error) {
        if (error != nil) {
            NSLog(@"discoverReaders failed: %@", error);
        } else {
            NSLog(@"discoverReaders succeeded");
        }
    }];
}
#import "APPReaderDiscoveryViewController.h"
#import <StripeTerminal/StripeTerminal.h>

@interface APPReaderDiscoveryViewController () <SCPDiscoveryDelegate>

@property (nonatomic, nullable, strong) SCPCancelable *discoverCancelable;

// ...

@end

@implementation APPReaderDiscoveryViewController

// Action for a "Discover Readers" button
- (void)discoverReadersAction {
    SCPDiscoveryConfiguration *config = [[SCPDiscoveryConfiguration alloc] initWithDiscoveryMethod:SCPDiscoveryMethodInternet
                                                                                         simulated:NO];

    self.discoverCancelable = [[SCPTerminal shared] discoverReaders:config
                                                           delegate:self
                                                         completion:^(NSError *error) {
        if (error != nil) {
            NSLog(@"discoverReaders failed: %@", error);
        } else {
            NSLog(@"discoverReaders succeeded");
        }
    }];
}
