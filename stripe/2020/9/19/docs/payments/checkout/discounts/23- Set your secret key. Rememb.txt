// Set your secret key. Remember to switch to your live secret key in production!
// See your keys here: https://dashboard.stripe.com/account/apikeys
StripeConfiguration.ApiKey = "sk_test_4eC39HqLyjWDarjtT1zdp7dc";

var options = new SessionCreateOptions
{
  PaymentMethodTypes = new List<string>
  {
    "card",
  },
  LineItems = new List<SessionLineItemOptions>
  {
    new SessionLineItemOptions
    {
      PriceData = new SessionLineItemPriceDataOptions
      {
        UnitAmount = 2000,
        Currency = "usd",
        ProductData = new SessionLineItemPriceDataProductDataOptions
        {
          Name = "T-shirt",
        },
      },
      Quantity = 1,
    },
  },
  Mode = "payment",
  SuccessUrl = "https://example.com/success",
  CancelUrl = "https://example.com/cancel",
};
options.AddExtraParam("allow_promotion_codes", "true");

var service = new SessionService();
var session = service.Create(options);
// Set your secret key. Remember to switch to your live secret key in production!
// See your keys here: https://dashboard.stripe.com/account/apikeys
StripeConfiguration.ApiKey = "sk_test_4eC39HqLyjWDarjtT1zdp7dc";

var options = new SessionCreateOptions
{
  PaymentMethodTypes = new List<string>
  {
    "card",
  },
  LineItems = new List<SessionLineItemOptions>
  {
    new SessionLineItemOptions
    {
      PriceData = new SessionLineItemPriceDataOptions
      {
        UnitAmount = 2000,
        Currency = "usd",
        ProductData = new SessionLineItemPriceDataProductDataOptions
        {
          Name = "T-shirt",
        },
      },
      Quantity = 1,
    },
  },
  Mode = "payment",
  SuccessUrl = "https://example.com/success",
  CancelUrl = "https://example.com/cancel",
};
options.AddExtraParam("allow_promotion_codes", "true");

var service = new SessionService();
var session = service.Create(options);
