// Set your secret key. Remember to switch to your live secret key in production!
// See your keys here: https://dashboard.stripe.com/account/apikeys
const stripe = require('stripe')('sk_test_4eC39HqLyjWDarjtT1zdp7dc');

// If you haven't refunded the charge, you can do so and let Stripe
// know it was fraudulent in one step.
var refund = await stripe.refunds.create({
  charge: '{{CHARGE_ID}}',
  reason: 'fraudulent',
});

// If you already refunded the charge (without specifying the
// 'fraudulent' reason), you can still let us know it was fraudulent.
var charge = await stripe.charges.update(
  charge_id,
  {
    fraud_details: {
      user_report: 'fraudulent',
    },
  }
);
// Set your secret key. Remember to switch to your live secret key in production!
// See your keys here: https://dashboard.stripe.com/account/apikeys
const stripe = require('stripe')('sk_test_4eC39HqLyjWDarjtT1zdp7dc');

// If you haven't refunded the charge, you can do so and let Stripe
// know it was fraudulent in one step.
var refund = await stripe.refunds.create({
  charge: '{{CHARGE_ID}}',
  reason: 'fraudulent',
});

// If you already refunded the charge (without specifying the
// 'fraudulent' reason), you can still let us know it was fraudulent.
var charge = await stripe.charges.update(
  charge_id,
  {
    fraud_details: {
      user_report: 'fraudulent',
    },
  }
);
