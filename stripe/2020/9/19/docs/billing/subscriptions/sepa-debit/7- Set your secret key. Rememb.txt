// Set your secret key. Remember to switch to your live secret key in production!
// See your keys here: https://dashboard.stripe.com/account/apikeys
StripeConfiguration.ApiKey = "sk_test_4eC39HqLyjWDarjtT1zdp7dc";

using System;
using System.Collections.Generic;
using Microsoft.AspNetCore.Mvc;
using Stripe;

namespace StripeExampleApi.Controllers
{
    [Route("/wallet")]
    public class WalletController : Controller
    {
        public IActionResult Index()
        {
            var options = new SetupIntentCreateOptions
            {
              PaymentMethodTypes = new List<string>
              {
                "sepa_debit",
              },
              Customer = "{{CUSTOMER_ID}}",
            };

            var service = new SetupIntentService();
            var setupIntent = service.Create(options);

            var clientSecret = setupIntent.ClientSecret;
            // Pass the client secret to the client
        }
    }
}
// Set your secret key. Remember to switch to your live secret key in production!
// See your keys here: https://dashboard.stripe.com/account/apikeys
StripeConfiguration.ApiKey = "sk_test_4eC39HqLyjWDarjtT1zdp7dc";

using System;
using System.Collections.Generic;
using Microsoft.AspNetCore.Mvc;
using Stripe;

namespace StripeExampleApi.Controllers
{
    [Route("/wallet")]
    public class WalletController : Controller
    {
        public IActionResult Index()
        {
            var options = new SetupIntentCreateOptions
            {
              PaymentMethodTypes = new List<string>
              {
                "sepa_debit",
              },
              Customer = "{{CUSTOMER_ID}}",
            };

            var service = new SetupIntentService();
            var setupIntent = service.Create(options);

            var clientSecret = setupIntent.ClientSecret;
            // Pass the client secret to the client
        }
    }
}
