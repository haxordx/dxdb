// Set your secret key. Remember to switch to your live secret key in production!
// See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.apiKey = "sk_test_4eC39HqLyjWDarjtT1zdp7dc";

post(
  "/retrieve-customer-payment-method",
  (request, response) -> {
    response.type("application/json");
    // Set the default payment method on the customer
    PaymentMethodBody paymentMethodBody = gson.fromJson(
      request.body(),
      PaymentMethodBody.class
    );

    PaymentMethod paymentMethod = PaymentMethod.retrieve(
      paymentMethodBody.getPaymentMethodId()
    );
    return paymentMethod.toJson();
  }
);
// Set your secret key. Remember to switch to your live secret key in production!
// See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.apiKey = "sk_test_4eC39HqLyjWDarjtT1zdp7dc";

post(
  "/retrieve-customer-payment-method",
  (request, response) -> {
    response.type("application/json");
    // Set the default payment method on the customer
    PaymentMethodBody paymentMethodBody = gson.fromJson(
      request.body(),
      PaymentMethodBody.class
    );

    PaymentMethod paymentMethod = PaymentMethod.retrieve(
      paymentMethodBody.getPaymentMethodId()
    );
    return paymentMethod.toJson();
  }
);
