// Set your secret key. Remember to switch to your live secret key in production!
// See your keys here: https://dashboard.stripe.com/account/apikeys
stripe.Key = "sk_test_4eC39HqLyjWDarjtT1zdp7dc"

// Create a PaymentIntent:
params := &stripe.PaymentIntentParams{
  Amount: stripe.Int64(10000),
  Currency: stripe.String(string(stripe.CurrencyUSD)),
  PaymentMethodTypes: stripe.StringSlice([]string{
    "card",
  }),
  TransferGroup: stripe.String("{ORDER10}"),
}
pi, _ := paymentintent.New(params)

// Create a Transfer to the connected account (later):
transferParams := &stripe.TransferParams{
  Amount: stripe.Int64(7000),
  Currency: stripe.String(string(stripe.CurrencyUSD)),
  Destination: stripe.String("{{CONNECTED_STRIPE_ACCOUNT_ID}}"),
  TransferGroup: stripe.String("{ORDER10}"),
}
tr, _ := transfer.New(transferParams)

// Create a second Transfer to another connected account (later):
secondTransferParams := &stripe.TransferParams{
  Amount: stripe.Int64(2000),
  Currency: stripe.String(string(stripe.CurrencyUSD)),
  Destination: stripe.String("{{OTHER_CONNECTED_STRIPE_ACCOUNT_ID}}"),
  TransferGroup: stripe.String("{ORDER10}"),
}
secondTransfer, _ := transfer.New(secondTransferParams)
// Set your secret key. Remember to switch to your live secret key in production!
// See your keys here: https://dashboard.stripe.com/account/apikeys
stripe.Key = "sk_test_4eC39HqLyjWDarjtT1zdp7dc"

// Create a PaymentIntent:
params := &stripe.PaymentIntentParams{
  Amount: stripe.Int64(10000),
  Currency: stripe.String(string(stripe.CurrencyUSD)),
  PaymentMethodTypes: stripe.StringSlice([]string{
    "card",
  }),
  TransferGroup: stripe.String("{ORDER10}"),
}
pi, _ := paymentintent.New(params)

// Create a Transfer to the connected account (later):
transferParams := &stripe.TransferParams{
  Amount: stripe.Int64(7000),
  Currency: stripe.String(string(stripe.CurrencyUSD)),
  Destination: stripe.String("{{CONNECTED_STRIPE_ACCOUNT_ID}}"),
  TransferGroup: stripe.String("{ORDER10}"),
}
tr, _ := transfer.New(transferParams)

// Create a second Transfer to another connected account (later):
secondTransferParams := &stripe.TransferParams{
  Amount: stripe.Int64(2000),
  Currency: stripe.String(string(stripe.CurrencyUSD)),
  Destination: stripe.String("{{OTHER_CONNECTED_STRIPE_ACCOUNT_ID}}"),
  TransferGroup: stripe.String("{ORDER10}"),
}
secondTransfer, _ := transfer.New(secondTransferParams)
