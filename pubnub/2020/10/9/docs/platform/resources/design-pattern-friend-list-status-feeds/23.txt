// Get the List of Friendspubnub.ListChannelsForChannelGroup()  .ChannelGroup("cg-user-a-friends")  .Execute(new DemoListChannelGroupAllChannels());// Which Friends are online right nowpubnub.HereNow()  .Channels(new string[] { "cg-user-a-friends" })  .Execute(new DemoHereNowResult());pubnub.AddListener(new DemoSubscribeCallback());// Watch Friends come online / go offlinepubnub.Subscribe<string>()  .ChannelGroups(new string[] { "cg-user-a-friends-pnpres" })  .Execute();public class DemoListChannelGroupAllChannels : PNCallback<PNChannelGroupsAllChannelsResult> {  public override void OnResponse(PNChannelGroupsAllChannelsResult result, PNStatus status) {    if (status.Error) {      Console.WriteLine("Operation failed w/ status: " + status.StatusCode.ToString());    }    else {      Console.WriteLine("FRIENDLIST:");      foreach(string channelName in result.Channels) {        Console.WriteLine("channel:" + channelName);      }    }  }}public class DemoHereNowResult : PNCallback<PNHereNowResult> {  public override void OnResponse(PNHereNowResult result, PNStatus status) {    if (status.Error) {      Console.WriteLine("Operation failed w/ status: " + status.StatusCode.ToString());    }    else {      Console.WriteLine("ONLINE NOW:" + result.TotalOccupancy.ToString());    }  }};public class DemoSubscribeCallback : SubscribeCallback {  public override void Message<T>(Pubnub pubnub, PNMessageResult<T> message) {  }  public override void Presence(Pubnub pubnub, PNPresenceEventResult presence) {    Console.WriteLine("FRIEND PRESENCE:" + pubnub.JsonPluggableLibrary.SerializeToJsonString(presence));  }  public override void Status(Pubnub pubnub, PNStatus status) {  }}show all 54 lineshide 39 linesCopy